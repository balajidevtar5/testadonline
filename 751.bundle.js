"use strict";(self.webpackChunkclassified_app=self.webpackChunkclassified_app||[]).push([[751],{57782:(e,t,a)=>{a.d(t,{A:()=>d,C:()=>m});var n=a(96540),r=a(32389),l=a(63532),o=a(10777),i=a(48949),c=a(20354),s=a.n(c);const d=e=>{const{t}=(0,r.Bd)();return{sharePost:(0,n.useCallback)((async(a,n)=>{const r=document.getElementById("share-template");if(!r)return;r.style.display="block";const l=(await s()(r,{useCORS:!0})).toDataURL("image/png");if(r.style.display="none",navigator.canShare){const r="https://testadonline-1pem.vercel.app/api/share/369";if("withoutImage"===n){let n="\n*".concat(t("ad_posted"),"*\n\n*").concat(null==a?void 0:a.title,"*\n").concat(null==a?void 0:a.shortdescription," \n");null!=a&&a.price&&(n+="".concat(t("price_label")," : ").concat(null==a?void 0:a.price," \n")),n+="".concat(t("location_label")," : ").concat(null==a?void 0:a.location," \n\n").concat(t("contact_details"),"\n").concat(r," \n\n").concat(t("download_app"),"\n ").concat(i.gS,"\n\n").concat(t("join_whatsapp"),"\n ").concat(i.RT," \n"),navigator.share({title:null==a?void 0:a.title,text:n}).then((()=>{i.nM&&e(i.EF.Share_Post)})).catch((e=>{}))}else{const n=await fetch(l),r=decodeURIComponent(null==a?void 0:a.shareposturl),o=await n.blob(),c=new File([o],"post.png",{type:"image/png"});let s="\n".concat(t("contact_details"),"\n ").concat(r," \n\n").concat(t("download_app"),"\n ").concat(i.gS,"\n\n").concat(t("join_whatsapp"),"\n ").concat(i.RT," \n");s+="".concat(t("contact_details"),"\n ").concat(r," \n\n").concat(t("download_app"),"\n ").concat(i.gS,"\n\n").concat(t("join_whatsapp"),"\n ").concat(i.RT," \n"),navigator.share({title:null==a?void 0:a.title,text:s,files:[c]}).then((()=>{i.nM&&e(i.EF.Share_Post)})).catch((e=>{}))}}}),[e,t])}},m=()=>{const{t:e}=(0,r.Bd)(),t=(0,n.useCallback)((t=>"\nðŸ“¢ ".concat(e("refer_earn_title")||"Refer & Earn","\nðŸŽ ").concat(e("refer_earn_subtitle")||"Get 500 points for every signup!","\nðŸ”— ").concat(e("referral_code")||"Use my referral link",":\n").concat(t,"\n    ")),[e]);return{shareReferral:(0,n.useCallback)(((t,a)=>{const n="\nðŸ“¢ *".concat(e("refer_earn_title")||"Refer & Earn","*\nðŸŽ *").concat(e("refer_earn_subtitle")||"Get 500 points for every signup!","*\n\nðŸ”‘ *").concat(e("referelCodeText"),"* ").concat(a,"\n\nðŸ“² ").concat(e("download_app")||"Download our app",":\n").concat(i.gS,"\n\nðŸ’¬ ").concat(e("join_whatsapp")||"Join our WhatsApp channel",":\n").concat(i.RT,"\n").trim();navigator.share?navigator.share({title:"AdOnline â€“ Refer & Earn",text:n}).catch((e=>{})):l.Ay.info(e("General.ShareNotSupported")||"Sharing is not supported on this device.")}),[e]),shareReferralWithQr:(0,n.useCallback)((async(a,n)=>{const r=t(a);if(null==n||!n.current)return;const i=await(0,o.ZR)(n.current);if(!i)return;const c=new File([i],"referral-qr.png",{type:"image/png"});if(navigator.canShare&&navigator.canShare({files:[c]}))try{await navigator.share({title:"Earn with AdOnline!",text:r,files:[c]})}catch(t){console.error("QR Share failed",t),l.Ay.info(e("General.ShareNotSupported"))}else l.Ay.info(e("General.ShareNotSupported"))}),[t,e]),getShareMessage:t}}},6751:(e,t,a)=>{a.r(t),a.d(t,{default:()=>L});var n=a(74848),r=a(96540),l=a(71468),o=a(9802),i=a(32389),c=a(61652),s=a(57782),d=a(87164),m=a(8239),p=a(44216);const u=e=>{let{rewardDetail:t}=e;return null};var f=a(14977),v=a(37636),g=a(33551),h=a(19140),b=a(42652),E=a(67310);const y=e=>{let{timestamp:t}=e;const a=new Date(t),n="".concat(a.toLocaleDateString("en-US",{year:"numeric",month:"2-digit",day:"2-digit"})," ").concat(a.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!0}));return r.createElement("div",null,n)};function x(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?x(Object(a),!0).forEach((function(t){S(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function S(e,t,a){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,"string");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}const A=e=>{let{data:t,loading:a,totalCount:n,handleNext:l}=e;const{t:o}=(0,i.Bd)();return r.createElement(f.A,{sx:{borderRadius:3}},r.createElement(v.A,{className:"pl-0 pr-0"},r.createElement(g.A,{variant:"h6",className:"px-12",pt:0,mb:"20px",borderBottom:"1px solid #eee"},o("General.transaction history")),r.createElement("div",{className:""},r.createElement("div",{className:"d-flex justify-content-around transitioncontainer"},r.createElement("div",{id:"scrollableDiv",className:"transitioncontainer",style:{padding:"0 16px"}},r.createElement(E.A,{dataLength:t.length,next:l,hasMore:t.length<n,loader:a?r.createElement(h.A,{avatar:!0,paragraph:{rows:1},active:!0}):"",scrollableTarget:"scrollableDiv"},r.createElement(b.A,{dataSource:t,renderItem:e=>{var t;const a=!0===(null==e?void 0:e.iscredited),n="Failed"===(null==e?void 0:e.status)||"àª¨àª¿àª·à«àª«àª³"===(null==e?void 0:e.status)||"à¤…à¤¸à¤«à¤²"===(null==e?void 0:e.status),l="Incomplete"===(null==e?void 0:e.status)||"àª…àª§à«‚àª°à«àª‚"===(null==e?void 0:e.status)||"à¤…à¤§à¥‚à¤°à¤¾"===(null==e?void 0:e.status),i=n||l?"#757575":a?"#4caf50":"#f44336",c=a?"+":"-";let s="#757575";switch(null===(t=e.status)||void 0===t?void 0:t.toLowerCase()){case"pending":s="#ff9800";break;case"failed":case"àª¨àª¿àª·à«àª«àª³":case"à¤…à¤¸à¤«à¤²":s="#f44336";break;default:s="#757575"}return r.createElement(b.A.Item,{key:e.id},r.createElement(b.A.Item.Meta,{title:r.createElement("span",{style:{textDecoration:n||l?"line-through":"none"}},e.posttitle),description:r.createElement(y,{timestamp:e.datestamp})}),r.createElement("div",{className:"d-flex flex-column align-items-end"},r.createElement("div",{className:"d-flex align-items-center mb-1"},r.createElement(d.A,{sx:w({display:"inline-flex",alignItems:"center",position:"relative"},n||l?{"&::after":{content:'""',position:"absolute",left:0,right:0,top:"50%",borderTop:"2px solid",borderColor:i,transform:"translateY(-50%)"}}:{})},r.createElement(g.A,{variant:"body1",sx:{fontWeight:"bold",color:i,marginLeft:.5}},c,e.amount,"Â ",o("General.Ptr")))),(l||n)&&r.createElement("span",{style:{fontSize:"0.75rem",color:s,fontWeight:500}},e.status)))}})))))))};var N=a(27743),O=a(86990),R=a(69149),k=a(55629),C=a(194);const _=e=>{let{referralLink:t,setReferralLink:a,qrOpen:n,setQrOpen:o,copiedId:d,setCopiedId:p}=e;const{t:u}=(0,i.Bd)(),{isDarkMode:h}=(0,r.useContext)(c.M),b=(0,r.useRef)(null),{shareReferral:E,shareReferralWithQr:y}=(0,s.C)(),{data:x}=(0,l.d4)((e=>e.loginUser));return r.createElement(f.A,{sx:{borderRadius:3},className:"mb-20"},r.createElement(v.A,null,r.createElement(g.A,{variant:"h6",fontWeight:700,pt:0},u("General.Refer & Earn")),r.createElement(g.A,{variant:"body2",mt:1,mb:2},u("General.Earn +500 points")),r.createElement("div",{className:"position-relative mb-15"},r.createElement(N.A,{id:"outlined-basic",value:t,variant:"outlined",fullWidth:!0,onChange:e=>a(e.target.value)}),r.createElement(O.A,{variant:"outlined",fullWidth:!0,className:"copy-icon",onClick:e=>((e,t,a)=>{e.stopPropagation(),navigator.clipboard.writeText(a),p(a),setTimeout((()=>p(null)),2e3)})(e,0,t)},d===t?r.createElement(R.A,{className:"mr-10 text-green",sx:{fontSize:"20px"}}):r.createElement(k.A,{className:"mr-10 text-green",sx:{fontSize:"20px"}}))),r.createElement(m.Ay,{container:!0,spacing:1,className:"mt-15"},r.createElement(m.Ay,{item:!0,xs:12},r.createElement(O.A,{variant:"contained",fullWidth:!0,onClick:()=>{var e;return E(t,null==x||null===(e=x.data[0])||void 0===e?void 0:e.referralcode)}},u("General.Share & Earn Now"))),n&&r.createElement(m.Ay,{item:!0,xs:6},r.createElement("div",{className:"text-center mt-10"},r.createElement(C.Ay,{ref:b,value:t,size:160}),r.createElement(O.A,{onClick:()=>y(t,b),variant:"contained",className:"mt-10"},"Share QR Code"))))))},j=e=>{var t,a,n,l;let{rewardDetail:o}=e;const{t:c}=(0,i.Bd)();return r.createElement(f.A,{sx:{borderRadius:3}},r.createElement(v.A,{className:"pl-0 pr-0"},r.createElement(g.A,{variant:"h6",component:"div",className:"px-12",pt:0,mb:"20px",borderBottom:"1px solid #eee"},c("General.Points Summary")),r.createElement("div",{className:"mt-15 px-12"},r.createElement("div",{className:"d-flex align-items-center justify-content-between gap py-12 px-12 mb-10 bg-light-purple-200 border-radius-10"},r.createElement("p",{className:"mt-0 mb-5 font-16"},c("General.Recharge")),r.createElement("p",{className:"mt-0 mb-5 font-17 font-bold"},o&&(null===(t=o[0])||void 0===t?void 0:t.recharge)||0)),r.createElement("div",{className:"d-flex align-items-center justify-content-between gap py-12 px-12 mb-10 bg-light-yellow-200 border-radius-10"},r.createElement("p",{className:"mt-0 mb-5 font-16"},c("General.Total Earnings")),r.createElement("p",{className:"mt-0 mb-5 font-17 font-bold"},o&&(null===(a=o[0])||void 0===a?void 0:a.earning)||0)),r.createElement("div",{className:"d-flex align-items-center justify-content-between gap py-12 px-12 mb-10 bg-light-red-200 border-radius-10"},r.createElement("p",{className:"mt-0 mb-5 font-16"},c("General.PointsSummary.Points Spent")),r.createElement("p",{className:"mt-0 mb-5 font-17 font-bold"},o&&(null===(n=o[0])||void 0===n?void 0:n.spent)||0)),r.createElement("div",{className:"d-flex align-items-center justify-content-between gap py-12 px-12 bg-light-blue-200 border-radius-10"},r.createElement("p",{className:"mt-0 mb-5 font-16"},c("General.PointsSummary.Net Available")),r.createElement("p",{className:"mt-0 mb-5 font-17 font-bold"},o&&(null===(l=o[0])||void 0===l?void 0:l.availablebalance)||0)))))};var P=a(13216),D=a(87653);const I=()=>{const{transactionHistoryRefreshKey:e}=(0,r.useContext)(c.M),{loading:t,data:a,totalCount:n,handleNext:o,loadMoreData:i,refetch:s}=(0,p.q)(),{rewardDetail:f,error:v,setLoading:g}=(0,D.A)(),{copiedId:h,referralLink:b,qrOpen:E,setReferralLink:y,setQrOpen:x,setCopiedId:w}=(()=>{var e;const[t,a]=(0,r.useState)(null),{data:n}=(0,l.d4)((e=>e.loginUser)),o=Array.isArray(null==n?void 0:n.data)&&n.data.length>0?n.data[0].referralcode:(null==n||null===(e=n.data)||void 0===e?void 0:e.referralcode)||"",[i,c]=(0,r.useState)(o),[s,d]=(0,r.useState)(!1);return{copiedId:t,referralLink:i,qrOpen:s,setReferralLink:c,setQrOpen:d,handleCopy:e=>{navigator.clipboard.writeText(e),a(e),setTimeout((()=>a(null)),2e3)},toggleQr:()=>{d((e=>!e))},setCopiedId:a}})();return r.createElement(r.Fragment,null,r.createElement("div",{className:"transitionoutercontainer"},r.createElement("div",{className:"transition-data"},r.createElement("div",{className:"transitioncontainer"}),r.createElement(d.A,{p:2,sx:{bgcolor:"#f4f6fa"}},r.createElement("div",{className:"d-xl-none d-block"},r.createElement(u,{rewardDetail:f}),r.createElement(_,{referralLink:b,setReferralLink:y,qrOpen:E,setQrOpen:x,copiedId:h,setCopiedId:w})),r.createElement(d.A,{p:0,sx:{bgcolor:"#f4f6fa"}},r.createElement(m.Ay,{container:!0,spacing:3,className:"w-100 ml-0"},r.createElement(m.Ay,{item:!0,xs:12,className:"pl-0 pr-12"},r.createElement(m.Ay,{container:!0,spacing:2},r.createElement(m.Ay,{item:!0,xs:12,md:7},r.createElement(A,{data:a,loading:t,totalCount:n,handleNext:o})),r.createElement(m.Ay,{item:!0,xs:12,md:5},r.createElement("div",{className:"d-xs-none"},r.createElement(u,{rewardDetail:f}),r.createElement(_,{referralLink:b,setReferralLink:y,qrOpen:E,setQrOpen:x,copiedId:h,setCopiedId:w})),r.createElement(j,{rewardDetail:f}))))))),r.createElement(P.A,null))))};const L=()=>{const[e,t]=(0,r.useState)(!1),[a,d]=(0,r.useState)([]),{data:m}=(0,l.d4)((e=>e.loginUser)),{isTransition:p,setIsTransition:u,setAdOptionModalOpen:f,AdOptionModalOpen:v,isDarkMode:g}=(0,r.useContext)(c.M),{t:h}=(0,i.Bd)(),[b,E]=(0,r.useState)(1),[y,x]=(0,r.useState)(0),[w,S]=(0,r.useState)(null),[A,N]=(0,r.useState)("https://adonline.in/home"),[O,R]=(0,r.useState)(!1),{shareReferral:k,shareReferralWithQr:C,getShareMessage:_}=((0,r.useRef)(null),(0,s.C)());return(0,r.useEffect)((()=>{var e,n,r,l;e=void 0,n=void 0,l=function*(){var e;t(!0);const n={PageNumber:b,PageSize:30},r=yield(0,o.ks)(n);(null==r?void 0:r.success)&&(d(p?[]:[...a,...r.data]),u(!1),x(null===(e=r.data[0])||void 0===e?void 0:e.totalcount),t(!1))},new((r=void 0)||(r=Promise))((function(t,a){function o(e){try{c(l.next(e))}catch(e){a(e)}}function i(e){try{c(l.throw(e))}catch(e){a(e)}}function c(e){var a;e.done?t(e.value):(a=e.value,a instanceof r?a:new r((function(e){e(a)}))).then(o,i)}c((l=l.apply(e,n||[])).next())}))}),[p,b]),(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(I,{})})}}}]);